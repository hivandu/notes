# 无人货架

作为2018年的风口，无人货架多次被人提起，2018年开始，无人货架的企业如雨后春笋般涌现出来。那时无人货架被认为是线下店在线上网站的延伸，是最接近用户的流量入口。当然，随着千万企业的征战、陨落，无人货架已经不再是风口，它的模式也被很多人诟病。不过存在即是真理，我们仍需回顾一下无人货架在产品架构上与传统电商乃至其他新模式的差异。



## 业务形态概述

无人货架从业态来说隶属于新零售的范畴，无人货架业务是将便利店模式极简化，将简化后的结构放入一些离用户最近的开放或半开放的消费场景中进行售卖。所有的供应链管理及线上运营管理参照电商的管理模式进行统一调度。因此从业务流程来说它是新零售、O20和电商的杂合体。标准电商拥有的链条节点，无人货架中基本包含，与此同时，线下终端的无人化需要通过人力和智能技术等多种手段去解决无人化带来的风险和问题，它既需要同O2O一样赋予最后一公里的配送员更多的事务及人员调度，又需要解决终端无人化产生的损耗问题，甚至比新零售的无人便利店要求更高，毕竟无人便利店在店内还是有相关人员引导的。

从管理机制上来看，无人货架的最大特点是做到了真正意义上的终端无人操作。因为无人货架的消费场景大多在封闭或者半封闭的公众场合，每一个点位的货架或者冰柜附近并不会有公司的专职人员进行管理维护。这个特色决定了无人货架对终端的人力维护成本和地点成本几乎为零，但与此同时，无人化也会造成监管难度大、货品异常情况多等问题。这既是早期无人货架推崇的亮点，也是后期导致各家疲于奔命的痛点。无人货架的业务场景与无人便利店的业务场景比较相似，其区别在于运营上很多职能需要总部统一调配、计划和操作，整体的运营模式为总部统管+点位个性化的模式。我们将一些需要门店自行管理的业务行为划分给总部运营进行统一管理，涉及物流配送的行为则划分给供应链进行，除此之外，需要线下到点的行为则划分给独立的线下运营进行。按此我们将货架业态对应的职能变化做了一下总结，如图：

![image-20210228221553004](http://qiniu.hivan.me/picGo/20210228221553.png)



明确了业务的职能划分后，接下来我们看一下业务在运营过程中的一些痛点或者标准电商或门店系统工具无法解决的问题。无人货架的商品不同于电商或门店的商品，货架的商品池来自于采购提供的商品列表，但具体到每个城市、点位来看，商品选品需要有所差异，不同的点位情况不同，对商品的诉求也会有所不同，因此商品的管理需要能够细化到点位层面的控制。这时候仅仅靠电商体系下的SPU+SKU已经无法支持了，我们需要以点位货架为维度形成若干套模板来支撑不同的商品组合。商品模板相当于线下门店的陈列图，所有的商品层面的调整都基于线下的门店陈列图的维度。

无人货架的业态终端点位由货架或者冰柜构成，以大仓或者前置仓的方式完成配送到点的操作。由于终端无人化的特性，对点位的所有管理行为都需要总部统一安排、规划，而且这些计划的操作指令最终需要传递到配送人员的手中，由他们完成，这就需要在业务流程上将所有点位陈列行为考虑到物流配送的安排和分配上，避免出现补货成本过高、时长过长的问题。此外，所有原本属于门店的管理职能（比如采购的新品上架、滞销品撤架等）也都要转移到总部进行统一调配管理，而指令的接收方依然是配送人员。总部的调配计划需要按照每个货架的实际情况进行动态制订，如何平衡总部指令和货架情况来安排物流计划是无人货架补货环节的主要问题之一。无人货架本身等同于一个微型的店、仓结合的售卖体，除了具有商品售卖的管理功能外，它还需要具备部分仓储的功能。比如，对于仓库来说，我们会计算在库库存的情况以提高周转，而对于点位的货架来说，它也存在在架库存的逻辑处理，另外，点位库存的不确定性（因为有货损）导致在架库存的统计结果更为不稳定，这会影响到每次下发的补货请求数据的准确性。因此，对补货请求的库存数也是需要进行校准的，校准后的数据需要尽可能地减少与真实库存的误差（由于有货损的情况，因此理论上无法做到零误差）。

单一看上述的问题可能并不复杂，可当需要将所有问题汇总执行的时候，会发现物流人员需要进行的操作十分复杂。物流人员不再是按照电商的配送模式签收即可，而是需要进行一系列的操作，包括铺货、补货、盘货、商品上下架、陈列摆放和有效期检查等事项。往往一个点位需要进行1小时以上的操作，复杂的操作还会导致货品异常，丢品、乱放的问题时有发生。为了能够减小这个问题造成的影响，我们需要做几个事情。

- 将部分操作功能剥离，单独安排。物流的日常行为主要是补货行为，因此我们可以将与补货行为关联度不高的操作项（如盘货）剥离出来，交由其他的团队或人员进行。这样既可以保证操作流程完整，又可以合理安排分工和资源
- 低频次的操作行为可以通过系统触发，而不需要每次配送都执行一次，比如有效期检查、陈列调整等

这些逻辑都会影响到每日补货的点位数和分布。

早期初步起步阶段，各家都使用开放式货柜或者冰柜。一个开放式货架的最低成本在百元级别，为了快速铺设，各家都会使用这样的设备。低成本的货架导致无法监控货品的购买行为，货损率也会持续走高，同时，物流配送方面，无人货架属于新兴行业，传统的配送机制往往是以妥投后签收为最终节点，而货架需要进行一系列的陈列操作和处理，补货成本持续走高。整个行业发展到2018年年初，精细化管理和控货损已经成为业内公认的核心诉求了，这时候智能柜慢慢变为主导设备，对智能柜我们同样需要进行从采购到出库、装机以及日常的运行监控一系列的管理措施。

## 产品架构

无人货架的流程是线下门店流程和电商流程的结合体。电商的主要系统包括供应链的采购系统、WMS和TMS，中台的商品、订单、促销和会员等以及前端的售卖App、小程序和H5页面等，这些系统在无人货架中同样需要。由于货架属于总部统管+单点个性化的运营模式，因此除了电商主流系统之外，无人货架为了解决自身独有的业务问题，又衍生出一些个性化的功能或模块，我们需要把门店和电商系统的特有模块进行结合并优化改造形成无人货架独有的业务模块设计，在满足总部统一管理的机制下同时支持单点、单架的个性化管理（库存、价格等），如图：

![image-20210228223614054](http://qiniu.hivan.me/picGo/20210228223614.png)



上图中深色白字的为无人货架独有的模块，浅蓝色的则是流程上需要进行业务改造的模块，最浅的蓝色模块基本同标准流程一致，改动不大。我们同样按照“中前台+供应链”的模式设计产品的架构图，可以看到，无人货架的中台是改造的重点区域，因为无人货架是一个非常重线上、线下运营的项目，需要对线下进行SOP的标准化管理。

前台面向用户的终端，不再仅仅是App、小程序和H5等了，现在的智能柜也属于面向用户的终端设备，智能柜不仅仅只是线上系统，它还包括线下的硬件系统及版本升级等一系列的事情。因此在中台需要实现设备的管理，这里包括设备的监控、在线升级和异常报警等事务。

无人货架的业务运营模式为“总部统管+点位个性化”，因此系统结构上模块也需要支持两级设置、操作。所有的售卖信息按照点位、货架和商品的结构进行管理，运营平台中的商品模块则负责提供默认设置及基础数据的管理，而点位的商品陈列管理通过模板进行管理。

无人货架运营的另一个特殊的流程是所有商品的上下架及调整都需要通过总部统一下发并联动物流执行，这就是说，每次陈列的调整都会导致一系列物流任务的执行。整个过程的链条非常长，很容易出现中间环节变化导致下游相关人员无法执行的情况。为了确保业务流程的稳定性，我们需要在中间构建独立的模块并进行统一的调度，从而解耦各个相关系统和业务流程。所有的商品变动指令都以任务的形式提报给相关人员，通过统一的运力协调和调度，以确定每日的物流计划并跟进执行情况。

除了线上基础数据的维护，点位的管理还需要进行一些线下监管，日常会接触点位的人员主要包括配送人员、销售BD和日常巡检人员等，与之对应的系统工具为配送司机端、销售CRM及督导系统等。一些大型的客户，可以通过企业内部相关人员与之建立沟通渠道，对其提供相应的后台，我们可以称其为KP（Key People）。

由此我们可以梳理出模块之间的关系图谱，如图：

![image-20210228223622597](http://qiniu.hivan.me/picGo/20210228223622.png)



由于改造的点十分繁多，我们把上图中的产品架构进行再次关联分组，按照业务节点的关联度可以将其分为终端维护、基础数据维护、线下维护和履约维护4个部分。终端维护包括前台的展示、购买流程的处理以及所有与用户直接接触的业务流程（包括CRM、KP和智能柜等）的维护。基础数据维护指的是所有相关数据的设置，包括促销、优惠券、商品、模板、网点和货架等的数据。而线下维护主要是督导、设备和TMS（司机端）的维护，目的是解决线下管理的业务流程。最后是履约维护，包括调度、订单及供应链相关部分的维护。这4个系统之间的交互十分频繁，大量的数据是需要进行同步处理的。由于篇幅原因，我不能把全部系统的细节做一一详述，只能针对其中的一些关键逻辑做一下说明。其实大多数的业务内容同电商和门店有相类似的结构。

## 基础数据维护

基础数据包括电商常见的数据内容，如商品、促销和会员等，基础数据中比较特殊的部分是商品数据。上面我们讲了，商品数据需要支持两层结构，即商品池和点位商品管理。商品池的源数据来自于采销系统的供应商商品库SKU，在运营平台的商品中心则需要将商品池的商品按照区域维度进行库存、价格的管理，区域的维度可以依据行政管理区域来制订。这里面的库存指的是库存深度，即单个货架上陈列该SKU时最多可陈列的个数。我们认为无人货架的运营系统是将原有门店的管理拆分成两层处理，因此商品池只能作为总部统管的基础数据，可管理到点位时，单靠商品池是不够的。点位的商品陈列有多种组合，不同点位的属性商品SKU的组合可能都有所不同，直接从商品池下沉到网点管理还需要增加一层过渡的“应用层”来简化一对多的复杂度，这里借鉴门店陈列管理的概念，使用陈列图来管理点位陈列。陈列图按照货架的类型配置不同层数、宽度的货架来陈列商品的组合，我们把每一个陈列图都作为一个模板来进行管理，一个模板可以用在多个点位，而模板的SKU来自于商品池的选品。这样的多层结构有助于减少系统设计的复杂度。当然，随着业务发展它的结构可能还会进一步扩展，这部分我们在后续会做详解。如下图：

![image-20210228223643423](http://qiniu.hivan.me/picGo/20210228223643.png)



所有的价格、库存深度都是通过模板传递到点位的货架上的。数据落库到货架后就可以进行个性化的设置管理了，为保证结构的不冲突，我们可以约定只有当新点位或者新模板使用时才会继承商品池的销售属性，其他情况下则使用点位自身的SKU销售属性。其他（如促销）也遵从这个体系，所有计算使用点位的基础数据。

基础信息的结构设计在无人货架体系中十分重要。上面讲过，所有商品维度的调整指令不同于门店体系，在超市门店业态下，每个门店可以进行单独管理，总部调度只需要告知相应的指令和信息即可。在无人货架的业态下，总部指令同时也是各点位需要执行的操作，因此，如何有效剥离分层结构是无人货架业态下产品架构稳定的基础，这里面有几个基础的原则。

- 数据流转的过程是单向同步的，即由业务链条的上游去通知下游，而不会出现下游反向同步的情况
- 将同类数据分层，多层结构下的数据分别属于不同的职能和流程。比如，同样是商品数据，商品池数据负责选品流程，商品模板数据负责陈列调整，货架商品数据负责补货计算



## 终端维护

终端主要指接触用户的所有系统的统称，货架业务接触用户的途径分为两种：销售购买的用户端以及企业协调人员后台。在一些优质企业内有提供给企业内部管理人员（一般是行政）协助管理商品、货架的相关流程，以便减少货损。这里我们把销售使用CRM也归为终端的一种。

智能柜的管理是无人货架的一项比较重要的工作内容。这里简单介绍一下智能柜在无人货架业态中的发展历程。从常规的开放式货架演变成智能柜，最核心的诉求就是解决货损问题和优化购买流程。开放式货架无法强制要求支付行为，且购买流程同电商相同，需要在列表中选择，加入购物车，然后才能完成订单支付。智能柜解决这两个问题的方式的核心原理是通过扫码方式获取用户信息，拿取商品后自动整理商品清单并实施代扣行为（支付宝或者微信），可以最大限度地避免未支付行为的发生。同时，代扣的执行可以有效减少用户的操作成本，提高体验性。

当前主流的智能柜会通过3种方式完成商品数据的自动获取功能。第一种是RFID，RFID（Radio Frequency Identification，射频识别）作为一种电子标签被应用于很多识别的场景，标签内带有商品的基本信息，在货柜上安装相应的识别设备后，可以在用户提取商品时感应并抓取商品信息，从而获得购买商品列表。目前RFID技术比较成熟，识别率相对于其他技术来说稳定性最高，可它的缺点也同样十分明显，RFID标签属于消耗商品，每个商品的RFID造价成本为几毛钱，消耗的成本相对来说比较昂贵，对于客单价为几元的无人货架业态来说并不十分划算，很大程度上会拉低毛利率。

另一种技术是通过重力感应来识别物品克重的变化。一般货架多为4~5层结构，在每层上增加感应设备装置，可以获取重量差异，对比SKU的标准克重得到商品的购买清单。这种技术并不是很复杂，也不会有耗材使用，但缺点也是显而易见的，重量的误差往往都在10克左右，而货架内的商品（如膨化食品）之间可能差值都不到10克，很容易出现判断误差。目前重力技术常用于其他手段的辅助，单独作为判断逻辑的效果并不理想。

最后就是目前比较流行的AI技术，它通过视觉的图像捕获来获取商品数据。图像识别的原理是对商品进行建模，在商品开门被拿出的时候，货柜内的摄像头通过图片或者影像进行模型的鉴别，从而获取商品数据。图像识别包括动态识别和静态识别两种。静态识别指将摄像头拍的开门前和开门后的图片进行比对，判断缺少的商品及个数；动态识别则是通过拿取时摄像头捕捉的图像获取商品的建模数据。静态识别对摄像头的位置及光线要求较高，需要在一定成像的条件下拍摄，而且商品的叠放也会对模型识别造成一定影响。动态识别则可能由于用户拿握姿势的不同而导致商品不能整体暴露在摄像头下，从而导致获取失败。动态和静态的结合可以有效地获取数据，如果再加上重力感应的话，识别率就比较可观了。但前期对商品建模需要花费大量的人力和成本，不过后期成本摊薄后就比较划算了。

智能柜通过各种识别方式判断用户是否完成支付，后期也可以通过人工视频进行复验来不断调校算法，总体来说，它可以最大限度避免货损。此外，除了识别的处理外，智能柜终端还有一项重要的功能模块，就是在线升级。智能柜本身是由标准的货架或者冷柜加上相应的智能装置及程序构成的，对于设备中的系统需要能够定期升级更新，逐步优化。升级的难度在于技术人员不能每次都去现场进行硬件系统的升级工作，而需要通过远程、批量的方式实现两种系统的升级、管理等业务诉求，因此一般会通过OTA的方式进行升级。OTA（Over-the-Air Technology，空间下载技术），通过网络途径，如Wi-Fi、3G和4G的方式完成对系统或固件的升级工作。硬件设备中的操作系统包括操作系统底层系统及业务处理系统两部分模块，你可以理解为一部分是PC裸机时候运行的系统（类似DOS），负责底层的逻辑处理，另一部分是Windows系统，负责业务逻辑的平台，这两部分都需要根据业务的发展不断进行升级。智能设备需要进行心跳检测以及信号检测等功能监控，确保它们时刻处于正常的运行状态，异常的设备需要在后台实现报警，提醒相关人员进行检验维修。



## 履约维护

无人货架履约的过程并不是指用户购买后的履约，而是指如何完成货架货品补充、处理和调整的过程。这里介绍一下配送人员涉及的履约环节的操作流程都有哪些行为，如图：

![image-20210228223714729](http://qiniu.hivan.me/picGo/20210228223714.png)



商品操作顺序一般遵循“先处理现有商品，再更新变化商品”的原则。所有操作其实都是门店货架商品陈列管理范畴的内容。盘货指盘点现有商品的库存数量，盘点的作用是调整现有货架上库存不准确的数据，由此核对货损数据，同时更新线上库存的可售库存数量，避免出现线上、线下不一致的问题。由于盘点的成本相对其他流程较高，因此它不是一个高频次的行为，日常运营中我们通常还是希望尽量通过智能柜来避免库存货损的问题。盘点时需要对现有商品中临期或者过期商品进行处理，临期及过期商品需要进行下架操作。商品上、下架操作除了临期商品下架外，还包括一些业务指令的下架，这部分下架指令来自于上面我们提到的模板的调整和操作。商品下架后，我们需要同步更新货架中的商品数据。

对现有货架商品调整完毕后，就可以进行新品的补充了，也就是补货和新品上架。补货会更新现有可售库存数量数据，上新则先添加商品SKU再更新数量数据。如果是货架首次铺设，则认为所有的商品都是上新的补货行为。由于货损原因，补货时可能会出现SKU补货数量大于单个SKU库存深度的情况，那么补货后就会出现可售库存大于库存深度的情况，在补货时需要考虑这种情况的操作。

补货过程中还会出现对现有陈列布局进行调整的行为，司机端需要提供货架陈列图，以便配送人员根据要求进行调整。最后将下架且不需要销毁的商品带回仓库。

按照上述业务描述，配送的运单单据需要包含上述业务行为的信息，由于操作过于复杂，我们可以按照类型归类将其拆分成多种不同的运单类型，保证单个单据的业务行为简化。单据的操作行为见表『单据的操作行为』。单据除了根据业务行为的相关性进行拆解外，还需要根据运力分配和成本来拆分，原则上，结算形式相同的业务行为可以划分为同一种单据操作。

**单据的操作行为**



| **操作行为**       | **数据更新字段**             | **数据内容**               |
| ------------------ | ---------------------------- | -------------------------- |
| 盘点               | 可售库存                     | 点位货架                   |
| 临期、过期商品下架 | 可售库存、商品状态           | 点位货架、撤销入库单       |
| 商品下架           | 可售库存、商品状态           | 点位货架、撤销入库单       |
| 商品上架           | 商品信息、可售库存、库存深度 | 点位货架                   |
| 点位铺设           | 点位状态、货架状态、商品信息 | 点位、点位货架             |
| 点位补货           | 可售库存                     | 点位货架                   |
| 点位撤销           | 点位状态、货架状态、商品信息 | 点位、点位货架、撤销入库单 |
| 货架撤销           | 货架状态、商品信息           | 点位货架、撤销入库单       |



上述是正向的履约运单流程，有正向流程，一般也会有对应的逆向流程，无人货架的逆向流程类似于门店的采购退货行为，是将物资从点位撤出回库。不过这里的撤出回库不包括商品下架后的带回，从业务操作上来看，我们把它归结为正向中的行为，只不过在回库时需要告知仓库回库的数量并生成销退入库单，完成流程。逆向流程主要指撤架和撤点，对于一些经营不好的货架或者点位进行裁撤行为。需要将所有的商品进行盘货清点并告知仓库生成销退入库单。残次的商品则需要以残品销退入库，其他则按照良品处理。在撤回时同样需要将货架或者柜体作为销退入库的物资并生成单据。

履约的所有行为都是依存在运单上的，运单作为串联履约整个流程的核心单据，上面加载了所有配送人员需要的信息内容。运单的基础信息和电商类似，包括编号、商品信息、配送信息和仓库信息等。这里重点讲一下几个与电商不同的地方。所有运单的发起不是由用户订单直接触发的，而是根据每日对实时可售库存的监控来判断是否需要进行相应的补货、铺货行为，作为运单的整体调度，可以设计独立的调度模块进行处理、分析和拆解等。补货与否要从以下几个方面去考量。



**成本**

补货行为首先会产生配送费用。为了尽可能地控制成本，需要计算补货的频次对成本的压力，对于一些高质量的点位需要提高补货频次以增强货品在架库存的周转率，而消费能力差的点位则需要降低频次以避免在架积压库存。成本的测算还体现在对点位补货密度的分配上，一次补货行为如果发生在同一区域（如同一楼）内，则补货的成本和时间可以进一步降低。



**库存补充**

补货行为就是补充在架可售库存，这里需要测算一个周期的逻辑。每个点位拥有它自己的生命周期，从铺设、售卖、商品结构优化一直到撤点，点位的属性不同，它的生命周期也不同。同样，货架上的商品也会有它的周期，包括它的生命周期和补货周期。生命周期同点位类似，即从上架到下架的过程，在这个过程中，补货周期是用于调节、观察商品生命周期的工具。上面提到了点位的补货频次，即每个点位补货应该按照什么节奏进行（比如一周一补），而点位上商品众多，如果按照统一的节奏进行补货，很可能出现部分商品在架库存积压而部分热销商品售罄的情况，因此我们要尽可能地保证单个商品SKU货品的消耗节奏同整体点位消耗节奏基本一致。比如我们发现点位平均每日订单为50元，单个点位的货值（即在架商品库存满额时候的价值）为800元，我们假定以50%消耗为临界点，当货值被消耗到400元时该点位需要进行补货，以每日50元测算，则需要8天。如果当前单个SKU的可售库存消耗频率小于8天，则认为该商品的动销率大于整体点位的动销率，需要提高库存深度，反之，若消耗大于8天，则认为动销率过低，需要调整库存深度以避免积压。由此可以发现，货架SKU的库存深度应该是动态可调节的。在补货前需要根据数据情况进行动态调整，根据调整后的库存深度计算应补库存数量。动态库存深度调整可以结合商品销售情况，对商品陈列提出优化建议，多次调整后依然滞销的商品则可以逐步减少可售库存直到下架，而热销商品则需要逐步提升库存量以便提高GMV。

采仓配环节基本同电商相同，这里就不特别说明了。



## 线下维护

线下部分主要是对点位除库存、商品以外的日常事务管理，在无人货架业态上主要体现在对点位的督导。督导的目的是监管抽查点位的情况，检查日常作业是否符合标准规范以及对用户进行回访等行为。

督导系统的本质就是信息异常记录，对所有产生的信息进行跟踪记录，确保后续分析追查的时候能有迹可循。



## 小结

无人货架作为一个生存周期短暂（虽然市面上依然还有很多企业在做）的业态，从爆发到如今的落寞也经历了一年多的时间。虽然作为商业模式来看它还有这样那样的问题，但是从业态的改造和产品逻辑的改造上它还是有很多值得参考和探讨的地方。