# 实现运营管理和商品管理

完成商品录入、上架的步骤需要在商品系统中实现。



商品运营专员可以对仓库采购入库的商品进行选择上架，同时完善线上的商品数据（价格、库存等），以便为售卖做准备。



完整的商品系统还包含很多方面的功能，初期的售卖诉求只是基本的。在之前，已经实现过商品管理的一些基本功能，当然是未脱离ERP系统的，可见: http://192.168.10.138/product/#/EOMS/Goods/ (需在网鱼内网内才可访问)



下面是商品系统的整体产品规划思路。



## 商品系统

分类基本是围绕着商品信息进行的。无论是按照商品种类还是促销属性、品牌属性等进行分类，都脱离不了商品的范畴。下面我们看一下商品管理都包含什么。



商品的基础信息主要包括两部分：

1. 分类树： 主要通过层级分类定义商品的基本类目归属

2. 属性库：包括商品所有相关的属性信息

![image-20210227124949848](http://qiniu.hivan.me/picGo/20210227124949.png)



基于目前网鱼的售卖系统考量，根据网鱼进货的种类及渠道来看，种类还是琳琅满目的，商品运营一定还是希望有一个快捷的查找方式。



而不管体量如何，正规的电商系统中分类类目与图书馆的分类类目是同样的概念。



### 分类类目

分类类目按照功能划分，分为前台类目和后台类目两种，两者之间是通过映射关系来关联的。如图：

![image-20210227125015806](http://qiniu.hivan.me/picGo/20210227125015.png)



在之前所写的商品管理类目模块，有一张更详尽的图来解释彼此的关系：

![image-20210227125021954](http://qiniu.hivan.me/picGo/20210227125021.png)



- 前台分类类目：负责前台类目的展示。
- 后台分类类目：也叫工业类目，负责商家或运营人员对商品的管理。



在类目设计上有几个需要注意的点：



- 可关联商品的类目一定是叶子节点的类目，即最末端的类目。
- 前台类目与后台类目的关联关系是多对多的关系。
- 属性库只与后台类目关联，前台类目通过映射关系获取。
- 一些费率的计算是挂在后台类目上的，比如扣点等。



### 类目管理功能及界面实现



**类目列表：**

1. 类目树

2. 当前层级内类目列表

![image-20210227125101435](http://qiniu.hivan.me/picGo/20210227125101.png)



### 属性库

属性库是商品管理体系里面最重要的部分，它管理着绝大多数商品信息的内容。我们将属性分成两种类型：

1. 商品属性

2. 售卖属性

![image-20210227125135176](http://qiniu.hivan.me/picGo/20210227125135.png)



- 商品属性：商品的基础属性，表达商品信息的内容，主要用于展示。
- 售卖属性：用于售卖时计算使用，主要用于与订单相关的内容。



商品属性大多主要应用于前台展示的信息内容。在电商体系下，商品有两种类型：SPU和SKU（『[SPU&SKU](scrivlnk://7E7AB716-0241-48A0-BFC9-14CF9966BBAF)』），名词的具体说明可以通过百度了解下，或者可以参看我曾写过的部分名词解释：http://192.168.10.138/product/#/EOMS/Goods/glossary ，简单地说，SPU用于展示商品是什么，SKU代表可以卖的具体商品怎么卖，



商品属性中包括很多字段信息，如名称、类目等。在这里特别说明一下商品属性中的规格字段。



规格字段用来表达商品的一些特征属性，如颜色、尺码和体积等。通常意义上的iPhone XR 128GB黑色中的128GB和黑色就是规格字段。由此看来，通过不同的规格属性字段的组合可以确定商品（SKU）的销售价格。由于规格属性字段能够决定商品的特征和价格，因此一般在电商系统中会将商品的该属性作为中心词（有的地方也叫作关键属性），与品牌词一样作为商品画像的核心词汇，将其用于搜索或者推荐词库中。通过与中心词的匹配能够快速定位到用户希望查找的分类类目，提高搜索的精准度。



讲完了商品属性，我们来看一下商品销售属性。销售属性主要针对价格、库存和商品的类型（是否是赠品）。



价格包括售价和定价两部分。POP平台价格由POP同步到商品系统中，包括售价和定价，它们也可分开提供给前端。ERP中的实物定价需要同步到商品系统中使用。商品系统的价格来自价格系统处理后的结果，当然如果没有比较完善的竞变价系统，可以将基础价格放在商品系统中管理，在判断是否为促销价格或者VIP价格时单独整合处理。



另外一个销售属性就是库存。中后台系统之间同步的库存信息主要是实物库存（数值等同于后面库存系统中讲到的逻辑库存），数据在同步前台时需要展示前台库存（也就是后面我们会讲到的可售库存），这两种库存的关系是在库存系统中维护的，商品系统的实物库存数据来自于ERP和WMS。如果有POP平台，考虑到商家可能拥有自己的ERP和WMS系统，商家商品的库存和信息可选择是否同步到平台的商品系统中。



除了上述两种基本属性，我们还需要考虑一种特殊商品（即赠品）的数据需要同步给促销系统，以便选择促销赠品时数据保持一致。赠品也需要有库存管理，但不一定有价格管理。



### SPU与SKU

SKU是最小库存单元，SPU是标准化产品单元。



#### SPU

Standard Product Unit 即标准化产品单元



标准化产品单元，是商品信息聚合的最小单位，是一组可复用、易检索的标准化信息的集合，该集合描述了一个“产品”的特性。通俗点讲，属性值、特性相同的商品就可以称为一个SPU。

类目系统中的关键属性能够确定一个SPU，它可以确定某一类商品，但不能确定具体的某一个商品。例如：苹果手机+Iphone X（品牌+型号）能够确定一个SPU。



#### SKU

Standard Keeping Unit 即库存量单位



库存量单位，库存进出计量的基本单元，也可以说SKU就是库存控制的最小可用单位。（个、件、盒、托盘等）。每个SKU都拥有不同的编码。仓库管理、采购进货、库存管理都是以SKU为记录单元。

类目系统的销售规格能够确定一个SKU，它可以确定具体的某一个商品。例如：苹果手机+Iphone X+12G+黑色，能够确定一个SKU。简单的可以理解为，用户在商品详情页，只有选择了具体的商品规格信息，才能够显示出价格和库存量。



#### 关系

SPU与SKU的关系有许多种，可以一对多、一对一，SPU包含多个SKU，SKU是SPU的子集，而商品，就是SKU的具象化实物；

如下图所示。绝大部分SPU与SKU都是一对一，多规格的SPU和SKU之间是通过规格属性来连接的。SPU的库存是由其对应的SKU库存共同决定的。

仓库系统、采购系统、库存系统、订单中心等系统都是主要管理SKU。

在日常运营中也很常见一个SKU对应多个SPU，如下图：

![image-20210227125347405](http://qiniu.hivan.me/picGo/20210227125347.png)



在前台SPU定义中，一个SKU也可能对应多个SPU，这种情况很少见，比如，运营在前台上架了一款商品，却当作两种商品进行上架，起了两个名字（红牛350ML， 红牛功能饮料350ML），此时在POS上理应被展示的，就应该是两种商品，但是其实，他在后台系统中之对应了一个SKU。

另外，有的时候我们需要将某一件商品进行打包售卖，这种情况可能商城更需要。比如，我们可能会将网鱼鼠标，键盘打包成数字两件套，这个时候的处理逻辑是将这两个SKU组合关联成一个虚拟的SKU，下发到仓库后，需要将虚拟SKU拆解，按照实际的SKU扣减库存，发货的时候，又将这两个SKU对应的商品打包成一个包裹送到用户手中

这时候在前台展示的是不同商品，系统中这两件商品编码（SPU编码）也不同，但是发货对应的是同一个SKU，库存也是共用。

还有一个比较特殊的概念：组合SKU，主要是解决出售组合商品的问题。组合SKU的属性都继承主SKU。组合SKU不同于套装促销。套装促销在订单中会展示多个商品，而组合SKU在前台是一个商品。组合SKU的应用场景主要是添加赠品、组合售卖，与前台的商品套餐有所区别。在订单解析成发货单时，组合SKU需解析成单一SKU，方便仓库发货，更新库存。

![image-20210227125355310](http://qiniu.hivan.me/picGo/20210227125355.png)



如上表所示，SKU3是一个组合商品，在前台售卖时是单个商品，下单之后流出仓库就解析成SKU1和SKU2。还有一个业务场景，这种组合套装有特殊的包装，而仓库不会去包装的情况下，套装进仓的时候就以独立的SKU入库，不需要做拆分处理。

?> 注意，这里的打包售卖，和后面将要理解的套餐，是不同的两个概念



#### 编码问题

系统中的SKU对应69码。这个条形码主要在采购、出入库时使用。

在仓库的条码方案以下有两种：

1.  全部自建条码。采用自己的SKU编码管理商品，需要入库前重新贴标，成本较高。
2. 有69码的商品沿用69码，无69码的商品（比如蔬菜、生鲜等）以及无法指定到单一的有码商品重新贴SKU编码。在仓库管理时做相应的条码映射。