---
date: 2020-03-23 10:22:00
author: Hivan Du
---

# 表单模块 - 编号格式

## 概述
任何一个表单在生成模版的时候都需要有一个编号, 不同的业务需要不同的编号规则, 为了避免多种表单生成单一编号序列, 所以表单内需要自定义编号格式.

发起申请后系统将根据设置好的规则自动生成编号, 无需手动填写!

## 需求

编号格式设置为两种:
1. 系统默认
2. 自定义

![](http://qiniu.hivan.me/mweb/2020-03/15849422096814.jpg)


### 系统默认

系统默认格式不可编辑, 为从1开始的递增序号, 例如: 1、2、3...100...

系统默认的需要不需要位数设置, 默认都是从1开始而不是从0001开始;

![](http://qiniu.hivan.me/mweb/2020-03/15849422403383.jpg)

### 自定义

格式类型包含:
1. [自动计数](#自动计数)
2. [提交日期](#提交日期)
3. [固定字符](#固定字符)
4. [表单内字段](#表单内字段)

自定义编号格式支持添加多个格式进行组合:

![](http://qiniu.hivan.me/mweb/2020-03/15849424091168.jpg)

如图, 设置格式可以添加格式: 标示2, 添加的格式自动按层级关系排列在格式列表内: 标示1

列表内的格式规则可以进行拖动排序, 表单最后生成的编号也将根据排序进行变化, 比如:

自动计数排列在前, 提交日期排列在后, 则格式为: 自动计数+提交日期
提交日期排列在前, 自动计数排列在后, 则格式为: 提交日期+自动计数



#### 自动计数

自动计数规则为系统默认规则, 不可删除且唯一, 无法再添加更多自动计数规则;

其中设置窗口如图:

![](http://qiniu.hivan.me/mweb/2020-03/15849427020149.jpg)


自动计数规则下拉框无法进行编辑, 可设置内容包含
1. 位数
2. 重置周期

位数为编号的默认位数, 比如设置为3, 则编号为001~999, 如果设置为5, 则编号为00001~99999

重置周期包含:
1. 不重置
2. 按日重置
3. 按周重置
4. 按月重置
5. 按年重置

重置周期如果设置为不重置, 则位数没有其他逻辑, 自增到顶后进行再循环, 比如位数为3, 则从001开始循环到999, 进行下一次循环.

重置周期设置时间后, 则强制按时间进行重置, 比如按日重置, 位数为3, 如果当天未到999, 第二天依旧从001开始进行编号序列. 此项多与格式为提交日期关联设置;

#### 提交日期

格式类型设置为提交日期, 则可编辑日期单位, 包含:
1. 年月日
2. 年月
3. 年

前端需展示日期单位预览, 如图:

![](http://qiniu.hivan.me/mweb/2020-03/15849429430461.jpg)

#### 固定字符

格式类型设置为固定字符, 则可以编辑字符内容:

![](http://qiniu.hivan.me/mweb/2020-03/15849434240094.jpg)


字符内容可以输入中文, 英文, 数字以及特殊字符, 限制20个字符

#### 表单内字段

表单内字段是根据表单内的其他模块设置进行关联而生成的一种模式. 比如表单内有一个数字模块, 关联此模块则生成表单会根据表单内填写的数字自动生成编号.

![](http://qiniu.hivan.me/mweb/2020-03/15849435357592.jpg)

并非所有字段都可以进行关联, 可关联字段仅为:


1. 日期
2. 数字
3. 单项选择
4. 下拉选择
5. 定位
6. 数据关联

**表单内字段模块因为比较复杂, 先实现表单内其他模块后最后再考虑实现此处.**
