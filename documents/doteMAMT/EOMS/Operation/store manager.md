---
date: 2020-01-07
author: Hivan
---

# 门店管理

## 概述

目前的门店管理功能还是依托OA数据, 架构在JavaShop管理端. 由于所管理的是同一个数据库, 所以可以在太易内直接重写一套管理端.

规划脑图: https://my.mindnode.com/hYxrTzfqumepTEsqsZVTdQqifmsYEHQXmGueWvnK

## 需求

满足以下两个基本功能:
1. [门店列表](#门店列表)
2. [门店详情管理界面](#门店列表)


### 门店列表

![](http://qiniu.hivan.me/mweb/2020-01/15784550621015.jpg)

以列表形式展示全国门店, 对门店列表的基础操作包含:
1. [过滤查询(搜索)](#过滤查询)
    - 选项过滤搜索
    - 时间范围过滤搜索
    - 关键词过滤搜索
2. [创建时间排序](#创建时间排序)
3. [刷新功能](#刷新功能)
4. [列管理](#列管理)
5. [过滤和查询结果导出](#过滤和查询结果导出)
6. [分页](#分页)
7. [单页及总数条目统计](#单页及总数条目统计)
8. [全局设置](#全局设置)

#### 过滤查询

过滤条件包括:
1. 门店编码
2. 门店名称
3. 品牌
4. 状态
5. 分部
6. 区域
7. 城市
8. 门店分级
9. 创建时间

其中: 品牌、状态、门店分级过滤采用选项过滤; 创建时间使用的是时间范围过滤;城市、分部、区域、门店编码和门店名称都为关键词过滤;

过滤选项以标签方式显示, 并且可以点击关闭. 当关闭了标签, 则列表的此过滤规则被移除. 一个标签仅支持一个条件展示, 支持变动. 比如: “品牌: 网鱼网咖”, 当更改品牌过滤条件为MVP的时候, 不是新加标签, 而是更改标签上的条件“品牌: MVP”, 其他条件亦同.

除了过滤功能之外, 当点击搜索按钮的时候, 出现快捷搜索功能. 此快捷搜索只能针对门店共用码和门店名称做关键字模糊检索. 快捷搜索功能不支持其他条件关键词, 但是可以和其他过滤条件同时作用. 


#### 创建时间排序

创建时间排序功能在点击表格title的“创建时间”时进行排序, 点击的时候在正序和倒序之间转换, 不需要恢复默认状态. 当关闭排序条件标签的时候, 恢复默认排序.

#### 刷新功能

刷新功能为一个不常用功能, 此功能触发结果为重新获取一遍门店列表并按当前条件进行展示.

刷新功能不重置过滤和排序条件, 按照点击刷新功能的当前条件重新获取.

#### 列管理

列管理功能为通用表格功能, 支持用户对当前表格展示字段进行隐藏, 显示和排序.

#### 过滤和查询结果导出

导出功能仅就当前的查询结果进行表格导出, 当无任何查询条件时, 也依然支持导出全部门店数据.

#### 分页

后端数据传输到前端时候需要支持分页显示, 单页显示条目可以进行更改: 20, 50, 100; 分页页码根据显示条目不同会有变更. 当切换单页显示条目的时候, 则切换到第一页展示, 以防止条目和页码错乱.

#### 单页及总数条目统计

单页及总数条目统计主要有两个关键数据:
1. 第n条到第n2条
2. 总计xxx家门店

以上两个关键数据会根据过滤条件结果及页码进行变动. 比如默认为全部等级门店, 单页显示20条,第一页则显示: `第1到第20条 总计1023家门店`; 如果检索条件更改为“等级”网鱼二类门店“, 单页显示50条, 则第二页显示:`第51条到第100条  总计328家门店`;

### 门店详情

![](http://qiniu.hivan.me/mweb/2020-01/15785548394801.jpg)

![](http://qiniu.hivan.me/mweb/2020-01/15785548520957.jpg)

#### 门店基础信息展示

![](http://qiniu.hivan.me/mweb/2020-01/15785548984369.jpg)

获取门店的基础信息并展示, 门店基础信息不能进行更改. 如果基础信息内没有的字段显示为“--”,

#### 门店配置

![](http://qiniu.hivan.me/mweb/2020-01/15785558606148.jpg)


门店配置包含:

1. 开关项(checkbox, 只有开启和关闭两个状态)
    - yPOSX点单
    - 同比例扣款
    - 库存管理
    - 现金支付
    - 会员卡支付
    - 顾客维护
2. 选择项(select)
    - 进位数位, 包含`1 ~ 9`
    - 消费单位, 包含 `分, 角, 元`
3. 填入项
    - 库存阀值, 可填入任意数字, 0代表不进行控制, 数值为double类型, 需要控制小数点后1位
    
#### 机具管理

![](http://qiniu.hivan.me/mweb/2020-01/15785550133597.jpg)

机具为门店移动点单功能所需设备, 目前大部分门店未设置. 如果机具设置中没有值, 则默认不显示.

如果有值, 则可以进行修改. 可以修改的值为:
1. 机具类型, String
2. 机具开关, Boolean
3. 机具Mac地址: String

#### 店员管理

![](http://qiniu.hivan.me/mweb/2020-01/15785550301327.jpg)

店员管理目前仅支持一个解绑功能, 店长工具提供接口. 目的为门店在退盟之后, 门店员工将无法被清除出门店, 为业务部门增加一个后台解绑功能, 以便其释放员工好绑定其他门店.

### 更多配置

一期暂时未增加这部分功能, 以后增加, 将会增加更多的门店设置项.





