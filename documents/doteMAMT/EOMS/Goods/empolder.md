---
date: 2020-09-22
author: Hivan
---

# 开发文档

## 概述

开发方案及界面分散在各个界面中不好查找，所以专门建立一个开发文档用于梳理整个产品的脉络以基面交互，并会链接到相关说明文档

?> 关于套餐设计
套餐的概念设计文档请参看[套餐设计](./package.md), 开发文档可以参看[套餐管理](./set_meal.md)

## 整体梳理

### 管理系统

可参看[商品管理全局规划](./global.md)

![](http://qiniu.hivan.me/mweb/2020-09/16008810596488.jpg)

### 新建/编辑流程

详细流程链路说明可参看:[工作链路](./link.md)

![](http://qiniu.hivan.me/mweb/2020-09/16008265528068.jpg)

### 商品管理关系及步骤

![](http://qiniu.hivan.me/mweb/2020-09/16008650390109.jpg)

## 属性管理



?> 属性管理说明
关于属性的定义，分类等详情请参看[属性管理](./attributes.md)，这里仅就操作步骤和界面做说明；

<details>
<summary>规格和附加选择的区别</summary>

![](http://qiniu.hivan.me/mweb/2020-09/16007699822525.jpg)

</details>

### 属性列表

在左侧菜单栏进入**属性管理**，进入后可见属性列表：

![](http://qiniu.hivan.me/mweb/2020-09/16007561498893.jpg)

包含：

1. 切换Tab栏
2. 搜索栏
3. 属性列表

#### 1. 切换Tab栏

?> 属性组
属性组的实现由于业务上需求较低，第一期内可以不做

#### 2. 搜索栏

可以通过属性ID、属性名称、状态进行查询搜索；

**状态搜索包含：全部、启用、禁用**

在搜索栏上，还有一个新增按钮，用于[新增属性](#新增属性)

#### 3. 属性列表

属性列表内将展示字段为：
1. 属性ID
2. 属性名称
3. 属性别名
4. 属性类型
5. 状态（[启用和禁用](#更新属性状态)）
6. 操作
    1. [编辑](#编辑属性)/查看
    2. [删除](#删除属性)

### 新增属性

?> 属性项说明
新增属性实际上是创建了一个新的属性项，一个属性项可以有多个属性名称，多个属性值。单个属性项只能归属于一个属性分类

点击[属性列表](#属性列表)的新建按钮，会弹出新建属性的弹出框：

![](http://qiniu.hivan.me/mweb/2020-09/16008766881867.jpg)

如上图，新建属性主要包含以下要素：

1. 属性分类选择（必填）
2. 属性分组选择（非必填）
3. 属性名称填写（必填）
4. 输入方式（必选，默认为多选）
5. 属性值新增

#### 属性分类选择

下拉选择已有属性分类，属性分类是程序提前根据业务类型预设的，无法新增和更改。

关于属性分类详情可查看[属性分类](./attributes.md#属性分类);

#### 属性分组选择

==前期在属性比较少的情况下，可以先不做属性组==

#### 属性名称

该属性的中文名称，需要校验重复性，不能有重复属性名；属性名称可输入中文、英文、数字以及横线`-`及下划线`_`，不能有其他字符，最多支持7个字符；

#### 输入方式

输入方式有三个可选择项：

1. 单选
2. 多选
3. 手动输入

默认情况下，属性的输入方式为多选，可以进行更改；

输入方式会在创建商品的时候影响属性的输入方式，如果属性为单选，则此属性在商品创建上只能选择一个值，如果属性为多选，则可以选择多个值，如果是手动输入，则默认多选的情况下还可以手动输入更多的值；

#### 属性值新增

属性值可以创建多个，在新建属性的时候，属性值可以随意增加、删除和更改名称，属性值也需要管理启用和禁用，如下图：

![](http://qiniu.hivan.me/mweb/2020-09/16008766405850.jpg)

?> 属性值的启用和禁用场景
场景说明：比如某些商品在一段时间内不再贩卖多个商品的某一个规格(小杯)，但是无法判断市场反映，可能后期还是需要添加此规格商品；可到时候又可能再重新生成新的商品SKU，此时禁用相应属性是最好的选择。等再次启用属性值后，相应商品可以使用原有SKU直接上架售卖。

### 编辑属性

在[属性列表](#属性列表)内操作编辑属性，会先给予警告：

![](http://qiniu.hivan.me/mweb/2020-09/16009148321531.jpg)

属性在创建后可以进行编辑，编辑状态如图：

![](http://qiniu.hivan.me/mweb/2020-09/16008792649504.jpg)

编辑属性的界面内，属性值可以启用、禁用，可以更改名称，甚至可以删除；

属性无法更改属性的所属分类，如图：

![](http://qiniu.hivan.me/mweb/2020-09/16009132142570.jpg)


其中，如果属性值已经关联到某商品的SKU，此属性值无法删除，也无法更改名称，但是可以禁用或者启用；

属性值禁止改名样式：

![](http://qiniu.hivan.me/mweb/2020-09/16009129295632.jpg)

属性值无法删除的时候需要进行提示：

![](http://qiniu.hivan.me/mweb/2020-09/16008816144861.jpg)

属性值无法更改名称的时候需要进行提示：

![](http://qiniu.hivan.me/mweb/2020-09/16009128033417.jpg)

属性值在操作禁用的时候需要弹出警告：

![](http://qiniu.hivan.me/mweb/2020-09/16008816476049.jpg)



### 更新属性状态

在[属性列表](#属性列表)内，属性项可以被操作启用、禁用。我们称呼此为更改属性状态；

更改属性的状态会影响相关商品的某些**销售规格**或者**限制选择**无法显示，所以用户操作的时候应该给予提示：

![](http://qiniu.hivan.me/mweb/2020-09/16008818639259.jpg)

### 删除属性

属性在创建之后不能轻易删除，需要满足条件为：属性内没有任一个属性值，如果属性内有属性值，则会警告无法删除：

![](http://qiniu.hivan.me/mweb/2020-09/16009147594290.jpg)

删除属性的时候应给予警告：

![](http://qiniu.hivan.me/mweb/2020-09/16009149350539.jpg)

## 类目管理

?> 类目管理说明
这里的类目管理单指后台类目，前台类目管理将会在**门店商品管理**内详尽说明；后台类目管理是商品管理的前期规划工作，后台类目树设计的合理，对于商品专员来说非常重要；
关于类目的更多内容，可查看[菜单/类目模块](./category.md)

### 类目列表

在左侧点击**类目管理**，可进入类目列表:

![](http://qiniu.hivan.me/mweb/2020-09/16009172908352.jpg)

包含：
1. 类目树
2. 当前层级类目列表

#### 1. 类目树

![](http://qiniu.hivan.me/mweb/2020-09/16009175918243.jpg)

后台类目设计为三级类目，比如：

> 饮料 » 手工饮品 » 特调类

其中第三级类目为叶子类目，所有商品将最终挂靠在叶子类目下；

树上可以操作[搜索类目](#搜索类目)

#### 2. 同级类目列表

进入类目列表或者刷新此页面，默认是展示一级类目列表：

![](http://qiniu.hivan.me/mweb/2020-09/16009186558740.jpg)

当选择左侧某一个类目的时候，将显示同层级类目, 而非选择类目内包含的类目；

![](http://qiniu.hivan.me/mweb/2020-09/16009186191524.jpg)

类目列表内展示字段:
1. 类目名称
2. 产品数量
3. 子类目
4. 最后编辑时间
5. 操作人
6. 状态（[启用/禁用](#启用/禁用类目)）
7. 操作
    1. [编辑](#编辑类目)
    2. 排序

### 搜索类目

**状态一：一级类目展示**
![-w303](http://qiniu.hivan.me/mweb/2020-09/16010233752281.jpg)

**状态二：二级类目展示**

![-w306](http://qiniu.hivan.me/mweb/2020-09/16010234439604.jpg)


**状态三：三级类目展示**

![-w310](http://qiniu.hivan.me/mweb/2020-09/16010234686261.jpg)


### 新增类目

新增的类目默认状态为**禁用**

![](http://qiniu.hivan.me/mweb/2020-09/16010168635644.jpg)

#### 父级类目

新增类目可以选择父级类目，填写类目名称，增加挂靠属性；

当点击父级类目进行选择的时候，弹出类目选择框：

![](http://qiniu.hivan.me/mweb/2020-09/16010169730857.jpg)

因为这里是选择父级挂靠，所以最多只显示两级父类类目；

选择任意一级类目和二级类目，都可以直接点击确认，新增类目会挂载在选择类目下；

#### 类目名称

类目名称最多支持输入7个中文字符，可以是中文，英文，数字，连字符或者下划线；

#### 挂靠属性

可以新增挂靠属性，删除挂靠属性；

**选择属性项**，支持快速模糊检索：

![](http://qiniu.hivan.me/mweb/2020-09/16010200826188.jpg)

添加的属性项以标签形式展示，可以直接点击**X**进行删除

![](http://qiniu.hivan.me/mweb/2020-09/16010200927787.jpg)

#### 新增的默认类目挂靠

新增的类目默认挂靠在当前选择的类目下，如图：

![-w558](http://qiniu.hivan.me/mweb/2020-09/16006837954459.jpg)

### 编辑类目

类目在创建完成之后可以进行编辑：

![](http://qiniu.hivan.me/mweb/2020-09/16010213662659.jpg)

类目编辑的界面和新增类似，操作包含：

1. 父级类目更改（重新选择）
2. 类目名称更改（规则和新增一样）
3. 新增挂靠属性
4. 删除挂靠属性

!> 
编辑类目的时候删除挂靠属性和变动父级类目，不能影响已经创建的商品内的规格；
比如:
1. 特调类饮品的父级挂靠**销售规格:杯型**，此时特调类更改了父级类目到**饮料**上，将不再继承**杯型**这个规格，则以后创建在特调类下的商品不再继承**杯型**这个销售规格，但是已经创建完成的商品，不会丢失原有规格；
2. 特调类类目删除了**温度**这个属性项，则以后创建在此类目下的所有商品不会再自动继承**温度**这个属性项，但是之前已经创建好的商品不会删除**温度**这个规格


### 启用/禁用类目

?>  类目只能被禁用，不能被删除，并且类目的禁用也会有限制：当类目内还包含任一商品的时候类目无法被禁用

类目新增之后的默认状态为禁用，可以在列表上进行启用。

类目如果需要被禁用，需要类目内没有任一商品，否则不可被禁用，且弹出警告：

![-w440](http://qiniu.hivan.me/mweb/2020-09/16010225385459.jpg)

### 其他

类目会有排序权重，每一级类目都单独计算权重；在列表内可以进行排序调整。

![-w178](http://qiniu.hivan.me/mweb/2020-09/16010232947241.jpg)



## 商品管理

商品相对于[属性管理](#属性管理)和[类目管理](#类目管理)，商品管理要经历的步骤和填写的表单都要多很多；而且是依赖于以上两项管理的数据都已经建立完成的基础上；因为商品需要挂靠在叶子类目下，并且商品SKU和SPU的生成都依赖于类目和属性；

### 商品列表

在侧栏菜单点击**商品管理 -» 商品管理**，进入商品管理的默认页面为**商品列表**

![](http://qiniu.hivan.me/mweb/16012695983194.jpg)


商品列表需要分成三个列表进行展示：

1. 全部商品
2. 在售商品
3. 下架商品

三个商品列表内都会包含：

1. 操作栏
2. 商品信息列表

#### 操作栏

操作栏内包含了查询(先要输入查询条件)、新增商品、批量操作以及更多条件筛选框；

#### 字段及操作项目

1. 选择框
2. 商品编码
3. 商品名称
4. 商品价格（区间）
5. 商品类目
6. 更新日期
7. 状态
8. 售卖
9. 操作
    1. 编辑/查看
    2. 删除





