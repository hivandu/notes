---
date: 2020-08-27
author: Hivan
---



# 套餐管理

套餐的相关理论设计：[套餐设计](package.md)                                                                                                           

## 概述

基于套餐的理论和流程进行开发设计，主要包含三部分：

1. [套餐设置和管理](#套餐设置和管理)
2. [套餐点餐](#套餐点餐)
3. [套餐订单和财务流](#套餐订单和财务流)


## 套餐设置和管理

[套餐管理界面蓝湖设计稿](https://lanhuapp.com/web/#/item/project/detailDetach?pid=8ff98282-2a6e-4d97-a85d-5b4fc777374c&see=all&project_id=8ff98282-2a6e-4d97-a85d-5b4fc777374c&image_id=bd5a2905-23f9-442b-a884-6b0cdc855555&child=605e1c60-e7a5-4215-94ec-9130879b1241)

### 套餐列表

![](http://qiniu.hivan.me/mweb/16049064301052.jpg)


1. 工具栏
2. 列表栏

**工具栏内包含**

1. Tab切换
2. 搜索
3. 筛选
4. 新增套餐
5. 批量编辑

**列表栏内包含**

1. 勾选框
2. 套餐编码
3. 套餐名
4. 套餐价格区间(价格带)
5. 套餐分类
6. 套餐最后更新日期
7. 上下架开关
8. 操作
    1. 推送门店
    2. 编辑/查看
    3. 删除


一个套餐，可操作项目包括:

1. 选择
2. [上下架](#上下架)
3. [推送门店](#推送门店)
4. [编辑/查看](#套餐的编辑和查看)
5. [删除](#删除套餐)

#### 上下架

商品中台在套餐列表内可以管控某一个套餐的上下架状态，当套餐处于下架状态的时候，此套餐在门店POS内不可见；

!> 批量操作上下架时，如果勾选项的状态不一致，以操作项为准；比如：批量勾选项中有启用和未启用两种状态的选项，此时操作批量启用，则所有启用项状态不变，未启用项则更改为启用；

#### 推送门店

套餐只有推送到门店后，门店才可以选择和售卖；

![](http://qiniu.hivan.me/mweb/16049066543276.jpg)

点击[套餐列表](#套餐列表)上的推送门店，可以将单个套餐设置推送到具体门店内；推送门店可以是单个门店推送，可以是一个区域推送，也可以是选择多家门店推送；

#### 套餐的编辑和查看

套餐列表内针对某一个套餐，可以进行编辑/查看操作，这两项操作受限于当前套餐的状态；

如果套餐处于上架状态，则此套餐无法进行编辑，仅可查看，需要先将套餐下架后才可进行编辑。

#### 删除套餐

套餐处于启用状态时，套餐无法操作删除。需要先将套餐操作下架，才可操作删除。

!> 批量操作删除动作中，如果勾选项中有一个处于上架状态，此批量操作无法继续；只有当勾选项中所有项目均处于下架状态时才可进行批量删除操作。

### 套餐分类管理

?> 套餐分类创建后[在POS上可以进行显示](#POS展示套餐分类)

**创建套餐分类**

![](http://qiniu.hivan.me/mweb/16051866164038.jpg)

**因为需要在POS进行显示，套餐分类名称需要做限制，最多不能输入超过5个字符；**

**分类列表**

![](http://qiniu.hivan.me/mweb/16051867814290.jpg)

分类列表内显示：
1. 分类编码
2. 分类名称
3. 更新日期
4. 是否启用
5. 操作
    1. 编辑/查看
    2. 删除


### 设置套餐

套餐设置包含两个步骤：
1. [设置套餐基本信息](#设置套餐基本信息)
2. [设置套餐内的具体SKU组合](#设置套餐内SKU组合)

#### 设置套餐基本信息

套餐的基础信息包含：
1. 套餐信息
    1. [套餐分类](#套餐分类)
    2. [套餐编码（自动生成，仅展示）](#套餐编码)
    3. [套餐名称](#套餐名称)
    4. [售卖渠道](#售卖渠道)
    5. [套餐描述](#套餐描述)
    6. [套餐头图](#套餐头图)
2. 价格设置

![](http://qiniu.hivan.me/mweb/16058385481795.jpg)


**关于价格带设置**

设置价格带的时候界面选择项为：
1. 网鱼一类
2. 网鱼二类
3. 网鱼三类
4. 网鱼四类

对应的标识为：
1. 0
2. 1
3. 2
4. 3

详细对应关系如下表格：

| 价格带标识 | 价格带选择项 | 对应ERP | 对应OA | 对应门店基础数据(大数据转换推送) |
|-------|----------|-------|------|-------------------|
| 0     | 网鱼一类   | A     | 0    | 5                 |
| 1     | 网鱼二类   | B     | 1    | 6                 |
| 2     | 网鱼三类   | C     | 2    | 7                 |
| 3     | 网鱼四类   | D     | 3    | 8                 |

##### 套餐分类

套餐分类需要在[套餐分类管理](#套餐分类管理)里进行管理

##### 套餐编码

自动生成的，仅作展示； 

##### 套餐名称

为了便于POS展示，套餐名称填写的时候限定最多输入10个字符长度；

##### 售卖渠道

套餐可以设置不同的售卖渠道，可勾选的售卖渠道包括：

1. POS
2. 鱼助手
3. 小程序/APP

?> 套餐仅在已勾选的渠道内进行展示，对套餐进行编辑的时候，可以更改售卖渠道。

##### 套餐描述

这里的描述用于在鱼助手和小程序/APP界面展示，对套餐进行简单的内容和规则说明；

##### 套餐头图

头图仅支持上传一张，用于在鱼助手和小程序/APP

#### 设置套餐内SKU组合

![image-20201216160358365](http://qiniu.hivan.me/picGo/20201216160358.png)

设置套餐内的SKU组合，需要先添加分组，套餐会有一个默认分组，最多添加5个分组；

为了便于POS上进行显示，分组名称如套餐名称一样，最大不超过10个字符。

分组可以设定是可选还是必选；

分组如果设置为可选，则点餐时分组内的SKU可以不选择添加，并且不限制商品数量；

分组如果设置为必选，则必选后需要添加必选规则，此组内需要购买几份；这里的份额是规定份额，最少需要选择这个份额，最大也需要选择这个份额；

>  比如：在设置套餐的时候默认设置这个组内`必选规则: 14款商品选2份`, 则在POS上选择此套餐的时候，这个组的商品是必须要选择2个的，不能多也不能少。



?> 当某个组设置为必选X份之后，组内可将X份商品**设置默认**

#### 编辑组合SKU

![](http://qiniu.hivan.me/mweb/16058601197472.jpg)



在添加组内商品的时候需要注意，任意一个SKU在此套餐内仅可出现一次，也就是说，一个SKU在某个套餐内只能出现在一个分组内，并且这个SKU无法再被添加到其他组内。



## 套餐点餐(POS)



### POS展示套餐分类

POSX有专门的套餐分类用于展示套餐和进行点餐

套餐可以设置分类管理，这里的分类设置将会在POS上作为二级分类进行展示：

![](http://qiniu.hivan.me/mweb/16049072421189.jpg)



当点击某一个套餐的时候，会弹出套餐的具体内容进行[商品选择](#套餐选择商品)



### 套餐选择商品

![image-20201216165110685](http://qiniu.hivan.me/picGo/20201216165110.png)



在套餐内进行选择的时候，默认会显示某一个组内可选多少项，并且每个组都会显示该组内已选几项；



#### 套餐及套餐内商品展示规则



因为涉及到可能某个套餐内没有套餐内相应商品的问题，所以在套餐的展示上做如下规则限制：

1. 首先，单个套餐内需要判断商品组是否**必选**；
2. 如果单个套餐内的**必选**组内的无商品，则此套餐不进行展示；
3. 如果单个套餐内的必选组内有商品，但是商品数量未满足必选数量，（比如：必选填写2个，组内只有一个可售卖商品）则套餐进行显示，但是无法选定（为了向门店展示到底是没套餐还是没商品）；
4. 如果单个套餐内的可选组内无商品，不影响套餐展示，仅在套餐的商品选择时不展示可选组；



### 购物车

套餐加入购物车相比原来的购物车列表多处一个编辑功能，详情可参考[YPOSX套餐部分设计稿](https://lanhuapp.com/web/#/item/project/detailDetach?pid=6f9f64de-1c07-4610-9deb-383ee9188481&see=all&project_id=6f9f64de-1c07-4610-9deb-383ee9188481&image_id=6274d972-0c1e-4398-bbf4-498abbc3eb31)

![](http://qiniu.hivan.me/mweb/16052569214121.jpg)

购物车内一个单项包含：
1. 套餐名称
2. 数量选择
3. 套餐金额
4. 编辑按键

当点击编辑时，会进入[套餐选择商品](#套餐选择商品)进行从新选择；

!> 购物车整体高度变化，拉大了高度。所以普通商品加入购物车的高度也需要进行调整，以下是集中购物车商品状态：

> 购物车整体高度：407
>
> 商品列高度: 83
>
> 套餐列高度: 100

**2个套餐加一个商品**

![](http://qiniu.hivan.me/mweb/16055135070286.jpg)


**1个套餐加2个商品** 

![](http://qiniu.hivan.me/mweb/16055135254499.jpg)


**3个独立商品**

![](http://qiniu.hivan.me/mweb/16055135429927.jpg)


## 套餐订单和财务流

![](http://qiniu.hivan.me/mweb/16055153820198.jpg)


包含套餐的订单内，套餐和普通商品是在同一个层级，商品的展示层级如下图：

![](http://qiniu.hivan.me/mweb/16055154314640.jpg)


主要显示：

1. 套餐名称
2. 套餐数量
3. 套餐价格（按数量显示总价，图例中单个套餐价值43元，3个129）
4. 套餐内商品名称
5. 单个套餐所含商品数量
6. 单个套餐所含商品价格（按单个套餐内商品数量显示总价）

### 针对订单内的字段解释

![](http://qiniu.hivan.me/mweb/16058388328267.jpg)

如上图标示：

1. [套餐的数量](#套餐的数量)
2. [套餐总价](#套餐总价)
3. **单个套餐**内某个SKU的数量
4. **单个套餐**内某个SKU的总价
5. 整个订单的总价

整体套餐和套餐内的SKU是树状结构展示，套餐内的SKU名称需要进行缩进；

#### 套餐的数量

标识1是表示整个订单内同一个套餐的选择数量，这里数量是需要套餐ID和套餐内SKU完全一致，假如所选套餐ID一致，但是套餐内SKU有任何不同，则套餐数量不重复计数，在订单内作为一个完全不同的套餐进行展示，如下图所示:

![](http://qiniu.hivan.me/mweb/16058400693868.jpg)

#### 套餐总价





## 关于套餐和优惠的互斥

目前套餐和优惠券以及活动的互斥关系在业务规则上暂不明晰，按照当前YMC内实现的活动套餐套用规则：

!> 套餐作为一个简单的营销动作，**不可参与任何券和活动**，并且，只要是包含套餐的订单，都不可参与任何券和活动；

此规则之后在实际运营中再做相应调整。