# 活动中心模块

::: danger 说明
此规划说明仅就网鱼内部进行传阅，严禁向外传播；

规划更新频率过快，无版本更新历史说明，版本更新历史可参看规划的Git历史；

规划过程中无论是开发，测试以及产品，大家群策群力，希望能提出更好的建议；
:::

## 概述

### 参考文献:

1. [桃桃活动需求](../../Demand/Archive/XQ-2019-06-11-drink_TZYY_send_coupon.md)
2. [产品部“桃桃活动”源需求定义](../../Archive/document_file/20190611_Activity_taotao.html)
2. [2019春节活动](../../Operation/Marketing_2019_NewYear.html)
3. [市场部8月份活动新规划](../../Archive/document_file/Marketing_201906_Activity.md)

## 活动要素分类及详解

::: tip
活动要素分类可以先参考左边边栏上的划分，有个大致框架上的概念；
:::

### 1. 活动编号

活动编号除了可以归类活动，更重要的是各系统之间认证活动的唯一凭证；

==系统自动生成，无法手动改写==

![](http://qiniu.hivan.me/15607500439971.jpg)

以[桃桃活动](../../Demand/Multisystem/XQ-2019-06-11-drink_TZYY_send_coupon.md)为例:
1. yMC 2019年第一个生成活动: `2019001`;
2. 总部定义活动: `01`;
3. 积点活动: `02`;

则规则生成为`01_20190010102`

### 2. 活动名称

活动名称仅需要记录字符串值，进行录入和显示即可，主要的目的为可视化区分；

<input type="text" style="padding-left:10px; height:36; font-size: 16px; color: #333;  width:150px; border: 1px solid #ddd;" placeholder="请输入活动名称" ></input>

### 3. 时间范围

1. 时间范围定义为起始时间和结束时间，时间最小颗粒度到分钟；
2. 时间范围的结束时间支持定义具体年月日时分，也支持填写范围值，比如 `6 day` 或者 `2 month`, 范围值最大选项为月，最小可选项为天；`Month`, `day`, 如果还需要更细的定义则填写具体年月日时分；

::: tip
范围值和具体年月日只能择其一，并且范围值内只能填写整数值；
:::



### 4. 活动前置触发条件

活动的触发条件为可参加前置条件设置。基本包含==分类设置==及==通用设置==两部分，其中分类包括：

#### 4.1. 商品售卖

商品售卖的分类涵盖了饮品，商品，




#### 4.2. 上网

#### 4.3. 充值

#### 4.4. 订座

#### 4.5. 参与宣传

#### 4.6. 投诉建议与问卷

#### 4.7. 拉新

#### 4.8. 沉默用户


### 5. 活动触发结果

活动触发结果就属于对用户给予的奖励;

大致区分为：

#### 5.1. 发券

#### 5.2. 赠送饮品

#### 5.3. 赠送金

#### 5.4. 礼品

1. 实物礼品
2. 虚拟礼品

### 6. 活动类型

这部分为活动定义最不可控的部分，并且计划做成后续可扩展添加的功能，因为各种设置条件都会对这部分造成影响；目前大致做如下区分：

#### 6.1. 积点活动

::: tip  
此次“[桃桃活动](../../Demand/Multisystem/XQ-2019-06-11-drink_TZYY_send_coupon.md)”就属于此类，杯数将会累计；
:::

除了杯数累计，累计时长，累计消费值等都属于此类活动；不同的是如何对时长和消费值进行区段划分，就是多少可换算成一点，而多数时候如果里程碑只有一个，则一个积点就可以执行；只是这一个积点的换算将会是可设置；


> 比如：一个活动为三个里程碑，满2小时送，满24小时送，满100小时送；
>
> 那么这个时候积点换算就可以为2个小时积1点，分别为1点，12点，50点的时候触发奖励；

利用积点制度，可以满足不同类型的换算；因为换算单位是统一的，仅换算值会不同；建议将换算值一开始就做统一，之后再有新的类型也可以按照同样的换算值统一规划，目前的换算值建议：

1. 杯数活动：1杯换算1点
2. 时长活动：1小时换算1点
3. 消费活动：10元换算1点

::: warning
此点数不属于会员积分点数，无实际价值换算，仅作不同类型之间的计数单位；所以积点换算值都建议为类型值的最小颗粒度；
:::

积点活动内的设置项需要做拆分，如是否有上限值，达到上限值奖励后是结束会员此次活动参加权限还是继续循环让会员从头继续从新开始活动累计；还有就是循环范围；

[桃桃活动](../../Demand/Multisystem/XQ-2019-06-11-drink_TZYY_send_coupon.md)中就会这样设置：

1. 上限值：9 // 9点触发活动阉值；
2. 是否循环：否 // 触发阉值后会员结束此次活动参加权限

而如果是之前所说的时长活动，就需要具体看类型值的最小颗粒度设定；假如此次活动仅一个里程碑：累计满40个小时；活动周期为1个月，并且活动期限内用户仅可参加多次，则可以这样设置

> 1. 积点换算：40小时换算1点；
> 2. 上限值： 1；
> 3. 是否循环： 是；
> 4. 循环周期：活动内；

也可以这样设置

> 1. 积点换算： 1小时换算1点；
> 2. 上限值: 40;
> 3. 是否循环： 是；
> 4. 循环周期：活动内；
  
#### 6.2. 一次性活动

一次性活动的定义基本为无累计的一次性消费类型，比如单次购买饮品多少杯，单次上机时长满足多少；单次消费满多少等等；


### 7. 活动范围定义

活动定义范围将会分为用户和门店两个维度;

活动范围定义相互之间并不排他，也就是可以设置两个维度同时作用；

#### 7.1 用户维度

用户维度定义将会从用户的类型上做区分，比如黄金卡用户，铂金卡用户，钻石卡用户，普通用户以及可能会有临时卡用户；

#### 7.2 门店维护

::: warning
需要注意，门店维度划分规则将强制为当次上网或消费产生在划分的门店内，而不是在此划分维度的门店内上网或消费过的用户，那个将属于用户维度划分，不要混为一谈；地区划分在时间维度上仅活动内消费产生区域；
:::

门店维度基本会划分两种情况，一种是以地区做划分，一种是以第三方做划分；

1. 地区划分
  
  > 比如上海西区，上海东区等

2. 第三方划分

  > 这个比较容易理解，比如恒信门店不参与此次活动

### 8. 宣传设置

这个部分是对线上宣传的一些定义，如生成H5，APP Banner的图片及连接设置等；

### 9. 权限定义

这部分属于权限管理部分，需要对系统角色进行定义。

可以粗略划分为：

1. 总部
2. 门店

考虑的是门店可能需要创建自己需要的活动，当然，==需要经过OA审批==；
